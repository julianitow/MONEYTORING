{% extends '@Application/Default/index.html.twig' %}

{% block title %}
    <title>Moneytoring - Partition</title>
{% endblock %}

{% block link %}
    <ul class="navbar-nav navbar-sidenav" id="exampleAccordion">
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Accueil">
            <a class="nav-link" href="{{ path('application_homepage') }}">
                <i class="fa fa-fw fa-home"></i>
                <span class="nav-link-text">Accueil</span>
            </a>
        </li>
        <li class="nav-item active" data-toggle="tooltip" data-placement="right" title="Partionner">
            <a class="nav-link" href="{{ path('partition') }}">
                <i class="fa fa-fw fa-eye"></i>
                <span class="nav-link-text"><b>Partitionner</b></span>
            </a>
        </li>
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Simulateur">
            <a class="nav-link" href="{{ path('simulation') }}">
                <i class="fa fa-fw fa-area-chart"></i>
                <span class="nav-link-text">Simulateur</span>
            </a>
        </li>
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Entrer mouvement">
            <a class="nav-link" href="{{ path('entrerMouvement') }}">
                <i class="fa fa-fw fa-table"></i>
                <span class="nav-link-text">Entrer mouvement</span>
            </a>
        </li>
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Modifier mouvement">
            <a class="nav-link" href="{{ path('modifierMouvement') }}">
                <i class="fa fa-fw fa-table"></i>
                <span class="nav-link-text">Modifier mouvement</span>
            </a>
        </li>
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Aide">
            <a class="nav-link" href="{{ path('aide') }}">
                <i class="fa fa-fw fa-coffee"></i>
                <span class="nav-link-text">Aide</span>
            </a>
        </li>
    </ul>
{% endblock %}

{% block body %}

  <style>
    .form-control-label
    {
      margin-left: 50px;
    }
    .form-control{
        margin-left:50px;
    }
    h3 {
      margin-top: 75px;
      margin-left: 50px;
    }
    .btn
    {
      margin-left: 50px;
    }
    .alert
    {
      margin-top: 30px;
    }
  </style>
<div class="container">
  {% if error == "ConstraintViolationException" %}
    <div class="alert alert-danger">
      Erreur : Nom de partition déja attribué.
    </div>
  {% elseif error == "succeed" %}
    <div class="alert alert-success">
      Partition créée avec succès.
    </div>
  {% endif %}
</div>
<div class="col-lg-10">
  <h3>Créer nouvelle partition</h3>
</div>
<div class="col-lg-10">
  {{ form_start(form) }}
  {{ form_widget(form) }}
  {{ form_end(form) }}
</div>
<div class="container">
  <table class="table">
    <thead class="thead-dark">
      <tr>
        <th scope="col">
          Mouvement
        </th>
        <th scope="col">
          Nom
        </th>
        <th scope="col">
          Montant
        </th>
        <th scope="col">
          Date
        </th>
        <th scope="col">
          Partition
        </th>
        <th scope="col">
          Type
        </th>
      </tr>
    </thead>
    <tbody>
      {% for mouvement in mouvements %}
        {% for mouv in mouvement %}
          <tr>
            <td scope="row">
              {{ mouv.id }}
            </td>
            <td scope="row">
              {{ mouv.nom }}
            </td>
            <td scope="row">
              {{ mouv.montant }}
            </td>
            <td scope="row">
              {{ mouv.date|date("d/m/Y") }}
            </td>
            <td scope="row">
              {{ mouv.fraction.nom }}
            </td>
            <td scope="row">
              {{ mouv.type }}
            </td>
          </tr>
        {% endfor %}
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}
